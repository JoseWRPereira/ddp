I"»<h1 id="arquivo-fonte-c-e-de-cabe√ßalho-h">Arquivo fonte (.c) e de cabe√ßalho (.h)</h1>

<p>Dentro de um projeto para microcontrolador, s√£o criados basicamente arquivos fonte e de cabe√ßalho.</p>

<p>Os arquivos <strong>fontes</strong> s√£o aqueles com extens√£o <strong>.c</strong> e s√£o escritos seguindo a sintaxe da linguagem de programa√ß√£o C, a mais utilizada para este tipo de aplica√ß√£o.</p>

<p>Os arquivos de <strong>cabe√ßalho</strong> (<em>header</em>) s√£o aqueles com a extens√£o <strong>.h</strong> e s√£o utilizados como apresenta√ß√£o de fun√ß√µes em arquivos fontes diferentes de onde est√£o declaradas, permitindo assim que elas sejam invocadas (chamadas).</p>

<h2 id="objetivo">Objetivo</h2>

<p>Criar um arquivo fonte no projeto utilizando a plataforma MPLAB-X.</p>

<!--more-->

<h2 id="cria√ß√£o-de-arquivo-fonte-c">Cria√ß√£o de arquivo fonte <strong>.c</strong></h2>

<p>S√£o v√°rios os arquivos <strong>.c</strong> em um projeto, mas todos s√£o criados da mesma forma.</p>

<p>A seguir a sequ√™ncia para a cria√ß√£o de um arquivo <strong>.c</strong>.</p>

<ul>
  <li>Clique com o bot√£o direito do <em>mouse</em> em <strong><em>Source Files</em></strong>;</li>
  <li>Selecione <strong><em>New</em></strong>;</li>
  <li>Em seguida selecione qualquer op√ß√£o de arquivo com extens√£o <strong>.c</strong>.</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 1: Novo arquivo fonte</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/capC-novosArquivos/01?raw=true" alt="Novo arquivo fonte" /></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>No campo <strong><em>File Name</em></strong> digite o nome do arquivo. 	N√£o √© necess√°rio inserir a extens√£o, 	pois j√° est√° definido no campo abaixo.</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 2: Nome do arquivo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/capC-novosArquivos/02?raw=true" alt="Nome do arquivo" /></td>
    </tr>
  </tbody>
</table>

<p>Ao finalizar o arquivo fonte √© aberto com algumas linhas inicializadas. 
Note que ele foi criado dentro do diret√≥rio de arquivos fonte, <strong><em>Source Files</em></strong>.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 3: Arquivo fonte</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/capC-novosArquivos/03?raw=true" alt="Arquivo fonte" /></td>
    </tr>
  </tbody>
</table>

<p>O arquivo fonte criado pela IDE j√° possui algumas linhas inicializadas, e neste caso com um bloco de coment√°rio no in√≠cio do arquivo com algumas informa√ß√µes como o nome do arquivo, seu autor e data de sua cria√ß√£o.</p>

<p>Em seguida temos a inclus√£o de biblioteca padr√£o, para os microcontroladores de 8 bits da Microchip, disponibilizada na instala√ß√£o do compilador <strong>XC8</strong>.</p>

<p>Por fim uma fun√ß√£o <strong>main</strong> m√≠nima.</p>

<p>Caso o arquivo fonte criado n√£o contenha a fun√ß√£o <strong>main</strong>, o que vai ser o mais comum, simplesmente apague-a e insira as fun√ß√µes do seu projeto.</p>

<h2 id="cria√ß√£o-de-arquivo-de-cabe√ßalho-h">Cria√ß√£o de arquivo de cabe√ßalho <strong>.h</strong></h2>

<p>Normalmente para cada arquivo <strong>.c</strong>, vai existir um arquivo correspondente <strong>.h</strong>.</p>

<ul>
  <li>Clique com o bot√£o esquerdo do <em>mouse</em> no diret√≥rio <strong><em>Header Files</em></strong>;</li>
  <li>Selecione <strong><em>New</em></strong>;</li>
  <li>Selecione algum arquivo com extens√£o <strong>.h</strong>.</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 4: Novo cabe√ßalho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/capC-novosArquivos/04?raw=true" alt="Arquivo fonte" /></td>
    </tr>
  </tbody>
</table>

<p>O passo seguinte √© inserir no campo <em>File Name</em> o nome do arquivo.</p>

<p>Note que a extens√£o deve estar com a sele√ß√£o em <strong>.h</strong>.</p>

<p>Verifique se os campos <em>Project</em> e <em>Created File</em> est√£o com os valores corretos, com o nome do projeto ao qual esse arquivo que est√° sendo criado pertence e seu respectivo local.</p>

<p>Estando tudo correto:</p>
<ul>
  <li>Clique em <strong><em>Finish</em></strong>.</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 5: Nome e local do arquivo de cabe√ßalho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/capC-novosArquivos/05?raw=true" alt="Nome e local do arquivo de cabe√ßalho" /></td>
    </tr>
  </tbody>
</table>

<p>O arquivo de cabe√ßalho √© criado e vem com as condi√ß√µes de uso do software, 
produzidos pela Microchip.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 6: Condi√ß√µes de uso do software</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/capC-novosArquivos/06?raw=true" alt="Condi√ß√µes de uso do software" /></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>Delete todo o conteudo do arquivo.
    <ul>
      <li>Voc√™ pode utilizar o atalho atrav√©s da sequ√™ncia de teclas: <strong><em>Ctrl+A</em></strong> e em seguida <strong><em>Delete</em></strong>.</li>
    </ul>
  </li>
  <li>Insira o <strong>#ifndef</strong> com o respectivo nome do arquivo, em letras mai√∫sculas, e finalizado com <strong>_H</strong> no lugar do <strong>.h</strong>.</li>
</ul>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifndef ARQUIVOCABECALHO_H
#define ARQUIVOCABECALHO_H
</span>
<span class="cm">/* Inserir aqui os cabecalhos */</span>

<span class="cp">#endif
</span></code></pre></div></div>

<p>Agora √© s√≥ inserir os prot√≥tipos de fun√ß√µes, defini√ß√µes de tipos, de acordo com a sua necessidade como programador.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 7: Arquivo de cabe√ßalho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/capC-novosArquivos/07?raw=true" alt="Arquivo de cabe√ßalho" /></td>
    </tr>
  </tbody>
</table>

<hr />

<blockquote>
  <p><a href="/ddp/2021/capD-versionamento">Controle de Vers√£o</a></p>
</blockquote>

<hr />

<p><a href="/ddp/docs/tecnology/ucPIC">Voltar</a></p>
:ET