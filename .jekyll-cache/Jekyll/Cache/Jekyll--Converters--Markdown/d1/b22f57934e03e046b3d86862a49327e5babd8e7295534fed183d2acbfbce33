I"ù<h1 id="bot√£o-led">Bot√£o LED</h1>

<h2 id="objetivo">Objetivo</h2>

<p>Acionar um LED copiando o estado l√≥gico de um bot√£o.</p>

<!--more-->

<h2 id="circuito-hardware">Circuito (<em>Hardware</em>)</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 1(a): Liga√ß√£o de pino como fonte (<em>source</em>)</th>
      <th style="text-align: center">Figura 1(b): Liga√ß√£o de pino como dreno (<em>sink</em>)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/imgP0102/P0102-botaoLED-pulldownres.gif?raw=true" alt="circuito" /></td>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/imgP0102/P0102-botaoLED-pullupres.gif?raw=true" alt="circuito" /></td>
    </tr>
  </tbody>
</table>

<h2 id="programa-firmware">Programa (<em>Firmware</em>)</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Figura 2: √Årvore de diret√≥rio do projeto</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/imgP0102/projectTree.jpg?raw=true" alt="circuito" /></td>
    </tr>
  </tbody>
</table>

<p>Segue o c√≥digo fonte para o projeto Pisca LED.</p>

<pre><code class="language-C">/*
 * File:   main.c
 * Author: josewrpereira
 *
 * Created on 23 de Setembro de 2019, 13:03
 * 
 * IDE:         MPLAB X IDE v3.15
 * Compiler:    XC8 v1.45
 * OS:          Deepin 15.11 X86_64
 * Kernel:      4.15.0-30deepin-generic
 * 
 * Objetivo: 
 *      Acionar um LED atrav√©s do estado l√≥gico de um bot√£o
 * 
 * Pinos    |n¬∫     |Conex√£o
 *  VDD     |11,32  | Alimenta√ß√£o (Vcc/+5V)
 *  VSS     |12,31  | Alimenta√ß√£o (GND/0V)
 *  RD0     |19     |LED (source)
 *  RD3     |22     |Bot√£o
 */


#include &lt;xc.h&gt;                 // Inclui biblioteca padr√£o do compilador XC8 
                                // para microcontroladores Microchip.
#include "config.h"             // Inclui arq. de config. (biblioteca) local.

void main(void)                 // Fun√ß√£o principal = main.
{                               // In√≠cio do bloco da fun√ß√£o main.
    PORTDbits.RD0 = 0;          // Inicia RD0 com o valor 0.
    TRISDbits.TRISD0 = 0;       // Configura RD0 como Sa√≠da.
    TRISDbits.TRISD3 = 1;       // Configura RD3 como Entrada;
                                // N√£o precisa inicializa√ß√£o do valor do pino.
    
    while( 1 )                  // La√ßo de repeti√ß√£o infinito.
    {                           // Inicio do la√ßo de repeti√ß√£o.
        if( PORTDbits.RD3 == 1 )// Condi√ß√£o: Se o bot√£o estiver pressionado.
            PORTDbits.RD0 = 1;  // Liga RD0.
        else                    // Sen√£o.
            PORTDbits.RD0 = 0;  // Desliga RD0.
    }                           // Fim do la√ßo de repeti√ß√£o.
    return;                     // Caracteriza main como uma fun√ß√£o sem retorno.
}                               // Fim do bloco da fun√ß√£o main.

</code></pre>

<h2 id="estrutura-do-programa">Estrutura do programa</h2>

<p>O programa presente no arquivo fonte <code class="language-plaintext highlighter-rouge">main.c</code> possui o seguinte arranjo:</p>
<ul>
  <li>Coment√°rios;</li>
  <li>Inclus√£o de bibliotecas;</li>
  <li>Diretivas de compila√ß√£o;</li>
  <li>Defini√ß√µes √∫teis ao programa;</li>
  <li>Programa principal.</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Bot√£o com resistor de <em>pull-down</em></th>
      <th style="text-align: center">Bot√£o com resistor de <em>pull-up</em></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/imgP0102/P0102-botaoLED-pulldownres.gif?raw=true" alt="circuito" /></td>
      <td style="text-align: center"><img src="https://github.com/JoseWRPereira/ddp/blob/master//_posts/tUcPIC/imgP0102/P0102-botaoLED-pulldownres.gif?raw=true" alt="circuito" /></td>
    </tr>
  </tbody>
</table>

<p>Agora √© a sua vez!</p>

<p>Crie o seu projeto, copie o c√≥digo, execute-o, procure os erros, arrume-os, seja resiliente, leia novamente a explica√ß√£o, busque outras fontes, pergunte, responda, fa√ßa altera√ß√µes conscientes no c√≥digo, explore, divirta-se.</p>

<p>Ficou com alguma d√∫vida, entre em contato.</p>

<p>Bom trabalho!</p>

<p><a href="/ddp/docs/tecnology/ucPIC">Voltar</a></p>
:ET